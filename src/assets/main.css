@tailwind base;
@tailwind components;
@tailwind utilities;

/* Critical CSS for preventing layout shifts */

/* Prevent font loading layout shift with font-display: swap */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap');

/* Set stable font-family to prevent layout shift during font loading */
body {
  font-family:
    'Inter',
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    sans-serif;
  font-display: swap;
  /* Body padding is handled by the body class in index.html */
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family:
    'Montserrat',
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    sans-serif;
  font-display: swap;
}

/* Prevent layout shift by reserving space for header */
.h-header {
  height: 80px; /* Fixed height instead of min-height */
}

/* Reserve space for navigation to prevent layout shift */
header.fixed {
  height: 80px;
}

/* Ensure critical above-the-fold content has reserved space */
#app {
  min-height: 100vh;
}

/* Reserve specific space for hero section to prevent layout shift */
.hero-section {
  min-height: calc(100vh - 80px); /* Account for header height */
}

/* Prevent image layout shifts with aspect ratio containers */
img {
  max-width: 100%;
  height: auto;
}

/* Image placeholder to prevent layout shift */
.img-container {
  position: relative;
  overflow: hidden;
}

.img-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Aspect ratio containers for common image ratios */
.aspect-16-9 {
  aspect-ratio: 16 / 9;
}

.aspect-4-3 {
  aspect-ratio: 4 / 3;
}

.aspect-1-1 {
  aspect-ratio: 1 / 1;
}

.aspect-3-2 {
  aspect-ratio: 3 / 2;
}

/* Form elements sizing to prevent layout shift */
input,
textarea,
select {
  box-sizing: border-box;
}

/* Button sizing consistency */
.btn,
button {
  box-sizing: border-box;
  min-height: 44px; /* Minimum touch target size */
}

/* Card containers with consistent heights */
.card {
  box-sizing: border-box;
}

/* Loading skeleton to prevent layout shift */
.skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Ensure modals don't cause layout shift */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1040;
}

/* Prevent layout shift when scrollbar appears/disappears */
html {
  scrollbar-gutter: stable;
}

/* Dynamic content containers with reserved space */
.dynamic-content {
  min-height: 200px; /* Reserve minimum space for dynamic content */
}

/* Animation containers to prevent layout shift */
.animate-container {
  transform: translateZ(0); /* Create stacking context */
}

/* Footer with reserved space */
.footer {
  min-height: 200px; /* Reserve space for footer */
}
